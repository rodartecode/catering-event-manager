# =============================================================================
# NEXT.JS WEB APPLICATION ENVIRONMENT
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# This file contains only variables needed by the Next.js web application

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string (shared with root .env)
DATABASE_URL="postgresql://admin:changeme@localhost:5432/catering_events"

# =============================================================================
# AUTHENTICATION (Next-Auth v5)
# =============================================================================
# Session secret for encryption - MUST be 32+ characters
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secure-secret-key-32-characters-long"

# Application URL for OAuth callbacks and session management
# Development: http://localhost:3000
# Production: https://your-domain.com
NEXTAUTH_URL="http://localhost:3000"

# =============================================================================
# MICROSERVICES
# =============================================================================
# Go scheduling service URL for resource conflict detection
# Must match where your Go service is running
SCHEDULING_SERVICE_URL="http://localhost:8080"

# =============================================================================
# DEVELOPMENT
# =============================================================================
# Node.js environment
NODE_ENV="development"

# Enable development features (analytics debug, verbose logging, etc.)
NEXT_PUBLIC_DEVELOPMENT="true"

# =============================================================================
# CACHING & PERFORMANCE
# =============================================================================
# Analytics query cache TTL (seconds) - helps meet SC-005 (<10s reports)
ANALYTICS_CACHE_TTL="300"

# Resource scheduling cache TTL (seconds) - for high-performance conflict detection
CONFLICT_CACHE_TTL="30"

# =============================================================================
# CLIENT PORTAL EMAIL (Magic Link Authentication)
# =============================================================================
# Resend API key for sending magic link emails
# Get your API key at: https://resend.com/api-keys
# Required for client portal authentication
RESEND_API_KEY=""

# Email address that magic link emails are sent from
# Must be a verified domain in Resend
# Example: "noreply@your-domain.com" or "Catering Events <noreply@your-domain.com>"
EMAIL_FROM="noreply@example.com"

# =============================================================================
# SECURITY: RATE LIMITING (Production)
# =============================================================================
# Upstash Redis for distributed rate limiting in production
# Uses in-memory fallback in development (no Redis needed)
# Get credentials at: https://upstash.com/
#
# Rate limits (hardcoded, not configurable via env):
#   - General API: 100 requests/minute per IP
#   - Auth endpoints: 5 requests/minute per IP
#   - Magic links: 3 requests/5 minutes per email
#
# UPSTASH_REDIS_REST_URL=""
# UPSTASH_REDIS_REST_TOKEN=""

# =============================================================================
# OPTIONAL: FUTURE INTEGRATIONS
# =============================================================================
# Email notifications (legacy SMTP, not recommended)
# SMTP_HOST=""
# SMTP_PORT="587"
# SMTP_SECURE="true"
# SMTP_USER=""
# SMTP_PASS=""
# FROM_EMAIL="noreply@your-domain.com"

# File uploads (not yet implemented)
# NEXT_PUBLIC_S3_BUCKET=""
# S3_REGION="us-east-1"
# S3_ACCESS_KEY_ID=""
# S3_SECRET_ACCESS_KEY=""

# Analytics tracking (not yet implemented)
# NEXT_PUBLIC_GA_MEASUREMENT_ID=""
# NEXT_PUBLIC_POSTHOG_KEY=""